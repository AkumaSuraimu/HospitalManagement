<!DOCTYPE html>
<html>
<head>
    <title>User List</title>
</head>
<body>
    <h1>List of Users</h1>

    <!-- Table for Users -->
    <h2>Users</h2>
    <table border="1">
        <thead>
            <tr>
                <th>User ID</th>
                <th>Email</th>
                <th>Role</th>
            </tr>
        </thead>
        <tbody>
            {% for user in users %}
                <tr>
                    <td>{{ user.id }}</td>
                    <td>{{ user.email }}</td>
                    <td>{{ user.role }}</td>
                </tr>
            {% empty %}
                <tr>
                    <td colspan="3">No users found</td>
                </tr>
            {% endfor %}
        </tbody>
    </table>

    <!-- Table for Doctors -->
    <h2>Doctors</h2>
    <table border="1">
        <thead>
            <tr>
                <th>Doctor ID</th>
                <th>User ID</th>  <!-- Display User ID -->
                <th>Email</th>
                <th>First Name</th>
                <th>Last Name</th>
                <th>Doctor Type</th>
                <th>Specialization</th>
            </tr>
        </thead>
        <tbody>
            {% for doctor in doctors %}
                <tr>
                    <td>{{ doctor.id }}</td>
                    <td>{{ doctor.user.id }}</td>  <!-- Display User ID -->
                    <td>{{ doctor.user.email }}</td>
                    <td>{{ doctor.staff.F_name }}</td>
                    <td>{{ doctor.staff.L_name }}</td>
                    <td>{{ doctor.doctor_type }}</td>
                    <td>{{ doctor.specialization }}</td>
                </tr>
            {% empty %}
                <tr>
                    <td colspan="7">No doctors found</td>
                </tr>
            {% endfor %}
        </tbody>
    </table>

    <!-- Table for Patients -->
    <h2>Patients</h2>
    <table border="1">
        <thead>
            <tr>
                <th>Patient ID</th>
                <th>User ID</th>  <!-- Display User ID -->
                <th>Email</th>
                <th>First Name</th>
                <th>Last Name</th>
                <th>Age</th>
                <th>Gender</th>
                <th>Address</th>
                <th>Phone</th>
                <th>Blood Group</th>
            </tr>
        </thead>
        <tbody>
            {% for patient in patients %}
                <tr>
                    <td>{{ patient.id }}</td>
                    <td>{{ patient.user.id }}</td>  <!-- Display User ID -->
                    <td>{{ patient.user.email }}</td>
                    <td>{{ patient.F_name }}</td>
                    <td>{{ patient.L_name }}</td>
                    <td>{{ patient.age }}</td>
                    <td>{{ patient.gender }}</td>
                    <td>{{ patient.address }}</td>
                    <td>{{ patient.phone }}</td>
                    <td>{{ patient.bloodgroup }}</td>
                </tr>
            {% empty %}
                <tr>
                    <td colspan="10">No patients found</td>
                </tr>
            {% endfor %}
        </tbody>
    </table>

    <!-- Table for Staff -->
    <h2>Staff</h2>
    <table border="1">
        <thead>
            <tr>
                <th>Staff ID</th>
                <th>User ID</th>  <!-- Display User ID -->
                <th>Email</th>
                <th>First Name</th>
                <th>Last Name</th>
                <th>Staff Type</th>
            </tr>
        </thead>
        <tbody>
            {% for staff_member in staff %}
                <tr>
                    <td>{{ staff_member.id }}</td>
                    <td>{{ staff_member.user.id }}</td>  <!-- Display User ID -->
                    <td>{{ staff_member.user.email }}</td>
                    <td>{{ staff_member.F_name }}</td>
                    <td>{{ staff_member.L_name }}</td>
                    <td>{{ staff_member.staff_type }}</td>
                </tr>
            {% empty %}
                <tr>
                    <td colspan="6">No staff members found</td>
                </tr>
            {% endfor %}
        </tbody>
    </table>

    <a href="{% url 'register_user' %}">Register a New User</a>
</body>
</html>
